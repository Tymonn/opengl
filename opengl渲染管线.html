<!DOCTYPE html>
<html>
<head>
<title>图形渲染管线</title>
</head>

<body>
<img src="pipeline.png" alt="smile" />
<br/><br/>
1、顶点着色器<br/>
图形渲染管线的一个部分就是顶点着色器，它把一个单独的顶点作为输入。不是所有的3D坐标都会被转换成2D坐标，<br/>
OpenGL仅当3D坐标在3个轴（x、y、z）上都为-1.0到1.0的范围内时才处理它，在这个范围以外的坐标都不会显示。<br/>
这个范围内的坐标称为标准化设备坐标，这个区域称为OpenGL的可视区域。
<br/><br/>
2、图元装配<br/>
图元装配阶段会把顶点着色器输出的所有顶点装配成指定图元的形状。
这需要我们告诉opengl，这些顶点数据构成的是什么，是一系列点，还是三角形等等。
<br/><br/>
3、几何着色器<br/>
几何着色器把图元形式的一系列顶点的几何作为输入，它可以通过产生新顶点来构造出新的（或其他的）图元来生成其他形状。
<br/><br/>
4、光栅化阶段<br/>
光栅化阶段把图元映射为屏幕上的像素，生成供片段着色器使用的片段。在片段着色器运行之前会执行裁切，裁切会丢弃超出<br/>
视图的所有像素，用来提高执行效率。<br/>
OpenGL中的一个片段是OpenGL渲染一个像素所需的所有数据。
<br/><br/>
5、片段着色器<br/>
片段着色器主要是计算一个像素的颜色，这里也是所有OpenGL高级效果产生的地方。通常，片段着色器包含3D场景的数据（包括光照、<br/>
阴影、光的颜色等等），这些数据可以被用来计算最终像素的颜色。
<br/><br/>
6、Alpha测试与混合<br/>
所有的颜色确定以后，最终的对象将会被传到最后一个阶段，即Alpha测试与混合阶段。<br/>
这个阶段检测片段的深度和模板值，用它们来判断这个像素是其他物体的前面还是后面，决定是否应该丢弃。这个阶段也会检查Alpha值<br/>
并对物体进行混合。所以即使在片段着色器中计算出来一个像素输出的颜色，在渲染多个图形的时候，像素的最终颜色可能完全不同。
<br/><br/>
<img src="ndc.png" alt="smile" />
<br/><br/>
7、标准化设备坐标NDC<br/>
一旦你的顶点坐标已经在顶点着色器中处理过，它们就应该是标准化设备坐标了，标准化设备坐标是一个x、y和z值在-1.0到1.0的一小段空间。<br/>
任何落在范围外的坐标都会被丢弃/裁剪，不会显示在你的屏幕上。与通常的屏幕坐标不同，y轴正方向为向上，(0, 0)坐标是这个图像的中心，而不是左上角。<br/>
最终所有(变换过的)坐标都在这个坐标空间中，否则它们就不可见了。标准化设备坐标接着会变换为屏幕空间坐标(Screen-space Coordinates)，<br/>
这是通过glViewport函数提供的数据，进行视口变换(Viewport Transform)完成的。所得的屏幕空间坐标又会被变换为片段输入到片段着色器中。
<br/><br/>
</body>

</html>